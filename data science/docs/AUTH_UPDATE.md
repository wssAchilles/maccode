# ğŸ” è®¤è¯åŠŸèƒ½æ›´æ–°è¯´æ˜

## æ›´æ–°å†…å®¹

å·²æˆåŠŸæ·»åŠ **é‚®ç®±/å¯†ç ç™»å½•å’Œæ³¨å†Œ**åŠŸèƒ½ï¼ŒåŒæ—¶ä¿ç•™åŸæœ‰çš„ Google ç™»å½•æ–¹å¼ã€‚

---

## âœ¨ æ–°å¢åŠŸèƒ½

### 1ï¸âƒ£ é‚®ç®±å¯†ç ç™»å½•

- âœ… é‚®ç®±æ ¼å¼éªŒè¯
- âœ… å¯†ç é•¿åº¦éªŒè¯ï¼ˆè‡³å°‘6ä½ï¼‰
- âœ… è¯¦ç»†çš„é”™è¯¯æç¤º
- âœ… è‡ªåŠ¨ç™»å½•åè·³è½¬

### 2ï¸âƒ£ ç”¨æˆ·æ³¨å†Œ

- âœ… ä¸€é”®æ³¨å†ŒæŒ‰é’®
- âœ… å®æ—¶è¡¨å•éªŒè¯
- âœ… å¯†ç å¼ºåº¦æç¤º
- âœ… é‡å¤é‚®ç®±æ£€æµ‹

### 3ï¸âƒ£ UI æ”¹è¿›

- âœ… ç™»å½•/æ³¨å†Œæ¨¡å¼åˆ‡æ¢
- âœ… ç¾è§‚çš„è¡¨å•è®¾è®¡
- âœ… åˆ†éš”çº¿å’Œé€‰é¡¹å¸ƒå±€
- âœ… Google ç™»å½•ä½œä¸ºå¤‡é€‰

---

## ğŸ¨ æ–°ç•Œé¢é¢„è§ˆ

### ç™»å½•æ¨¡å¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸ‘¤                       â”‚
â”‚   ç™»å½•ä»¥ä½¿ç”¨æ•°æ®åˆ†ææœåŠ¡          â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“§ é‚®ç®±                    â”‚  â”‚
â”‚  â”‚ your@email.com             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ”’ å¯†ç                     â”‚  â”‚
â”‚  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚
â”‚      [ç™»å½•]                      â”‚
â”‚                                  â”‚
â”‚  è¿˜æ²¡æœ‰è´¦æˆ·ï¼Ÿ [ç«‹å³æ³¨å†Œ]          â”‚
â”‚                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€  æˆ–  â”€â”€â”€â”€â”€â”€â”€â”€          â”‚
â”‚                                  â”‚
â”‚  [ä½¿ç”¨ Google ç™»å½•]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ³¨å†Œæ¨¡å¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸ‘¤                       â”‚
â”‚        æ³¨å†Œæ–°è´¦æˆ·                 â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“§ é‚®ç®±                    â”‚  â”‚
â”‚  â”‚ your@email.com             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ”’ å¯†ç                     â”‚  â”‚
â”‚  â”‚ è‡³å°‘6ä½å­—ç¬¦                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚
â”‚      [æ³¨å†Œ]                      â”‚
â”‚                                  â”‚
â”‚  å·²æœ‰è´¦æˆ·ï¼Ÿ [è¿”å›ç™»å½•]            â”‚
â”‚                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€  æˆ–  â”€â”€â”€â”€â”€â”€â”€â”€          â”‚
â”‚                                  â”‚
â”‚  [ä½¿ç”¨ Google ç™»å½•]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ æŠ€æœ¯å®ç°

### æ–°å¢çŠ¶æ€å˜é‡

```dart
// ç™»å½•æ¨¡å¼ï¼š'login' æˆ– 'register'
String _authMode = 'login';

// è¡¨å•æ§åˆ¶å™¨
final _emailController = TextEditingController();
final _passwordController = TextEditingController();
final _formKey = GlobalKey<FormState>();
```

### é‚®ç®±å¯†ç ç™»å½•

```dart
Future<void> _signInWithEmail() async {
  if (!_formKey.currentState!.validate()) {
    return;
  }

  final userCredential = await FirebaseAuth.instance.signInWithEmailAndPassword(
    email: _emailController.text.trim(),
    password: _passwordController.text,
  );
  
  setState(() {
    _currentUser = userCredential.user;
  });
}
```

### ç”¨æˆ·æ³¨å†Œ

```dart
Future<void> _registerWithEmail() async {
  if (!_formKey.currentState!.validate()) {
    return;
  }

  final userCredential = await FirebaseAuth.instance.createUserWithEmailAndPassword(
    email: _emailController.text.trim(),
    password: _passwordController.text,
  );
  
  setState(() {
    _currentUser = userCredential.user;
  });
}
```

---

## ğŸ›¡ï¸ é”™è¯¯å¤„ç†

### ç™»å½•é”™è¯¯

- `user-not-found`: "è¯¥é‚®ç®±æœªæ³¨å†Œ"
- `wrong-password`: "å¯†ç é”™è¯¯"
- `invalid-email`: "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"
- `user-disabled`: "è¯¥è´¦æˆ·å·²è¢«ç¦ç”¨"

### æ³¨å†Œé”™è¯¯

- `weak-password`: "å¯†ç å¼ºåº¦ä¸å¤Ÿï¼Œè¯·ä½¿ç”¨è‡³å°‘6ä½å­—ç¬¦"
- `email-already-in-use`: "è¯¥é‚®ç®±å·²è¢«æ³¨å†Œ"
- `invalid-email`: "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"

---

## âœ… è¡¨å•éªŒè¯

### é‚®ç®±éªŒè¯

```dart
validator: (value) {
  if (value == null || value.isEmpty) {
    return 'è¯·è¾“å…¥é‚®ç®±';
  }
  if (!value.contains('@')) {
    return 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®';
  }
  return null;
}
```

### å¯†ç éªŒè¯

```dart
validator: (value) {
  if (value == null || value.isEmpty) {
    return 'è¯·è¾“å…¥å¯†ç ';
  }
  if (value.length < 6) {
    return 'å¯†ç è‡³å°‘éœ€è¦6ä½å­—ç¬¦';
  }
  return null;
}
```

---

## ğŸ¯ ç”¨æˆ·ä½“éªŒä¼˜åŒ–

### 1. ç™»å½•/æ³¨å†Œåˆ‡æ¢

- ç‚¹å‡»"ç«‹å³æ³¨å†Œ"åˆ‡æ¢åˆ°æ³¨å†Œæ¨¡å¼
- ç‚¹å‡»"è¿”å›ç™»å½•"åˆ‡æ¢å›ç™»å½•æ¨¡å¼
- åˆ‡æ¢æ—¶æ¸…é™¤é”™è¯¯ä¿¡æ¯

### 2. å¤šç§ç™»å½•æ–¹å¼

- é‚®ç®±å¯†ç ç™»å½•ï¼ˆä¸»è¦ï¼‰
- Google ç™»å½•ï¼ˆå¤‡é€‰ï¼‰
- æ¸…æ™°çš„åˆ†éš”çº¿åŒºåˆ†

### 3. å‹å¥½çš„æç¤º

- å®æ—¶è¡¨å•éªŒè¯
- è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
- æˆåŠŸåçš„æ¬¢è¿æ¶ˆæ¯

---

## ğŸ“‹ ä½¿ç”¨æµç¨‹

### æ–°ç”¨æˆ·æ³¨å†Œ

1. æ‰“å¼€åº”ç”¨
2. ç‚¹å‡»"ç«‹å³æ³¨å†Œ"
3. è¾“å…¥é‚®ç®±å’Œå¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰
4. ç‚¹å‡»"æ³¨å†Œ"æŒ‰é’®
5. æ³¨å†ŒæˆåŠŸï¼Œè‡ªåŠ¨ç™»å½•

### å·²æœ‰ç”¨æˆ·ç™»å½•

1. æ‰“å¼€åº”ç”¨
2. è¾“å…¥é‚®ç®±å’Œå¯†ç 
3. ç‚¹å‡»"ç™»å½•"æŒ‰é’®
4. ç™»å½•æˆåŠŸï¼Œå¼€å§‹ä½¿ç”¨

### Google ç™»å½•ï¼ˆå¤‡é€‰ï¼‰

1. æ‰“å¼€åº”ç”¨
2. ç‚¹å‡»"ä½¿ç”¨ Google ç™»å½•"
3. é€‰æ‹© Google è´¦å·
4. æˆæƒåè‡ªåŠ¨ç™»å½•

---

## ğŸ”’ Firebase é…ç½®ç¡®è®¤

ä»ä½ æä¾›çš„æˆªå›¾å¯ä»¥çœ‹åˆ°ï¼ŒFirebase Authentication å·²ç»å¯ç”¨äº†ï¼š

- âœ… **ç”µå­é‚®ä»¶/å¯†ç **è®¤è¯æ–¹å¼å·²å¯ç”¨
- âœ… çŠ¶æ€æ˜¾ç¤º"å·²å¯ç”¨"

æ— éœ€é¢å¤–é…ç½®åç«¯ï¼

---

## ğŸš€ éƒ¨ç½²è¯´æ˜

### ä¸éœ€è¦é‡æ–°éƒ¨ç½²åç«¯

åç«¯ä»£ç æ— éœ€ä¿®æ”¹ï¼Œå› ä¸ºï¼š

- Firebase Auth åœ¨å®¢æˆ·ç«¯å®Œæˆè®¤è¯
- åç«¯åªéªŒè¯ ID Tokenï¼ˆæ‰€æœ‰è®¤è¯æ–¹å¼çš„ Token æ ¼å¼ç›¸åŒï¼‰
- `@require_auth` è£…é¥°å™¨å¯¹æ‰€æœ‰è®¤è¯æ–¹å¼éƒ½æœ‰æ•ˆ

### åªéœ€éƒ¨ç½²å‰ç«¯

```bash
cd front

# 1. è·å–ä¾èµ–ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
flutter pub get

# 2. æ„å»º Web åº”ç”¨
flutter build web --release

# 3. éƒ¨ç½²åˆ° Firebase Hosting
firebase deploy --only hosting

# 4. è®¿é—®
# https://data-science-44398.web.app
```

---

## ğŸ§ª æµ‹è¯•æ¸…å•

éƒ¨ç½²åè¯·æµ‹è¯•ï¼š

### æ³¨å†ŒåŠŸèƒ½

- [ ] å¯ä»¥è¾“å…¥é‚®ç®±å’Œå¯†ç 
- [ ] å¯†ç å°‘äº6ä½æ—¶æ˜¾ç¤ºé”™è¯¯
- [ ] é‚®ç®±æ ¼å¼é”™è¯¯æ—¶æ˜¾ç¤ºæç¤º
- [ ] æ³¨å†ŒæˆåŠŸåæ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯
- [ ] é‡å¤é‚®ç®±æç¤º"è¯¥é‚®ç®±å·²è¢«æ³¨å†Œ"

### ç™»å½•åŠŸèƒ½

- [ ] å¯ä»¥ä½¿ç”¨æ³¨å†Œçš„é‚®ç®±ç™»å½•
- [ ] å¯†ç é”™è¯¯æ—¶æ˜¾ç¤ºæç¤º
- [ ] æœªæ³¨å†Œé‚®ç®±æç¤º"è¯¥é‚®ç®±æœªæ³¨å†Œ"
- [ ] ç™»å½•æˆåŠŸåå¯ä»¥ä½¿ç”¨åŠŸèƒ½

### æ¨¡å¼åˆ‡æ¢

- [ ] å¯ä»¥ç‚¹å‡»"ç«‹å³æ³¨å†Œ"åˆ‡æ¢åˆ°æ³¨å†Œ
- [ ] å¯ä»¥ç‚¹å‡»"è¿”å›ç™»å½•"åˆ‡æ¢å›ç™»å½•
- [ ] åˆ‡æ¢åé”™è¯¯ä¿¡æ¯æ¸…é™¤

### Google ç™»å½•

- [ ] Google ç™»å½•ä»ç„¶å¯ç”¨
- [ ] å¯ä»¥ä½œä¸ºå¤‡é€‰ç™»å½•æ–¹å¼

### ç™»å‡ºåŠŸèƒ½

- [ ] ç‚¹å‡»ç™»å‡ºåæ¸…é™¤é‚®ç®±å¯†ç 
- [ ] è¿”å›ç™»å½•ç•Œé¢

---

## ğŸ“Š å¯¹æ¯”ï¼šæ›´æ–°å‰å

### æ›´æ–°å‰

- âœ… åªæ”¯æŒ Google ç™»å½•
- âŒ æ²¡æœ‰é‚®ç®±å¯†ç é€‰é¡¹
- âŒ æ²¡æœ‰æ³¨å†ŒåŠŸèƒ½
- âŒ å¿…é¡»æœ‰ Google è´¦å·

### æ›´æ–°å

- âœ… æ”¯æŒé‚®ç®±å¯†ç ç™»å½•
- âœ… æ”¯æŒç”¨æˆ·æ³¨å†Œ
- âœ… ä¿ç•™ Google ç™»å½•
- âœ… å¤šç§ç™»å½•æ–¹å¼å¯é€‰
- âœ… æ— éœ€ Google è´¦å·ä¹Ÿèƒ½ä½¿ç”¨

---

## ğŸ‰ ä¼˜åŠ¿

1. **æ›´ä½çš„ä½¿ç”¨é—¨æ§›**
   - ä¸å¼ºåˆ¶è¦æ±‚ Google è´¦å·
   - å¯ä»¥ä½¿ç”¨ä»»ä½•é‚®ç®±æ³¨å†Œ

2. **æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ**
   - ä¸€ä¸ªç•Œé¢å®Œæˆç™»å½•å’Œæ³¨å†Œ
   - æ¸…æ™°çš„æ¨¡å¼åˆ‡æ¢
   - å‹å¥½çš„é”™è¯¯æç¤º

3. **ä¿æŒçµæ´»æ€§**
   - Google ç™»å½•ä½œä¸ºå¿«æ·é€‰é¡¹
   - ç”¨æˆ·å¯ä»¥é€‰æ‹©å–œæ¬¢çš„æ–¹å¼

4. **å®‰å…¨æ€§ä¸å˜**
   - ä½¿ç”¨ Firebase Auth å®˜æ–¹è®¤è¯
   - åç«¯ Token éªŒè¯æœºåˆ¶ä¸å˜
   - CORS å’Œé™æµä¿æŠ¤ä¾ç„¶æœ‰æ•ˆ

---

## ğŸ“ åç»­å»ºè®®

### å¯é€‰çš„å¢å¼ºåŠŸèƒ½

1. **å¯†ç æ‰¾å›**

```dart
await FirebaseAuth.instance.sendPasswordResetEmail(
  email: emailController.text.trim(),
);
```

2. **é‚®ç®±éªŒè¯**

```dart
await _currentUser?.sendEmailVerification();
```

3. **è®°ä½ç™»å½•çŠ¶æ€**

```dart
// Firebase Auth é»˜è®¤å·²æ”¯æŒ
// åˆ·æ–°é¡µé¢åè‡ªåŠ¨æ¢å¤ç™»å½•
```

4. **ç¬¬ä¸‰æ–¹ç™»å½•æ‰©å±•**

- Facebook ç™»å½•
- Apple ç™»å½•
- GitHub ç™»å½•

---

## âœ… æ€»ç»“

å·²æˆåŠŸå®ç°ï¼š

- âœ… é‚®ç®±å¯†ç ç™»å½•
- âœ… ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½
- âœ… ç™»å½•/æ³¨å†Œæ¨¡å¼åˆ‡æ¢
- âœ… è¡¨å•éªŒè¯å’Œé”™è¯¯å¤„ç†
- âœ… ä¿ç•™ Google ç™»å½•
- âœ… ä¼˜åŒ–çš„ç”¨æˆ·ç•Œé¢

**ç°åœ¨ç”¨æˆ·å¯ä»¥ç”¨é‚®ç®±å¯†ç æ³¨å†Œå’Œç™»å½•ï¼Œä¸å†ä¾èµ– Google è´¦å·ï¼** ğŸŠ

---

*æ›´æ–°æ—¶é—´: 2025-11-17*
*ä¿®æ”¹æ–‡ä»¶: front/lib/screens/data_analysis_screen.dart*
