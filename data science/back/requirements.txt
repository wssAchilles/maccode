# --- Web 核心框架 ---
Flask==3.0.0
gunicorn==21.2.0
flask-cors==4.0.0
Werkzeug==3.0.1

# --- Google Cloud & Firebase (关键修改：解绑底层依赖) ---
# 只锁定顶层库 firebase-admin，让 pip 自动解析兼容的底层库
firebase-admin==6.5.0
# 移除 protobuf, google-api-core, google-auth, grpcio 的硬锁定
# 它们会自动被 firebase-admin 安装到正确的兼容版本

# --- 环境变量 ---
python-dotenv==1.0.0

# --- 数据科学与计算 ---
# 放宽 Pandas 限制以适配新版 GridStatus，同时限制 Numpy < 2.0 避免重大破坏
pandas>=1.5.3,<3.0.0
numpy>=1.26.2,<2.0.0
scipy>=1.11.4
openpyxl>=3.1.2
scikit-learn==1.3.2
shap==0.44.1
joblib>=1.3.2

# --- 优化求解器 ---
# 保持你验证过的版本
gurobipy==10.0.3

# --- 实时数据管道 ---
# GridStatus 更新频繁，建议允许小版本升级
gridstatus>=0.26.0
lxml>=5.1.0
apscheduler==3.10.4
# 放宽 requests 限制，google-auth 等库也需要它
requests>=2.29.0
pytz==2024.1

# --- 测试工具 ---
pytest==7.4.3
pytest-cov==4.1.0
pytest-flask==1.3.0